!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.EGovJSBase={})}(this,function(e){"use strict";function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e,t){var n=e.toLowerCase();return Et[n][t]||"["+t+"]"}var r=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),o={}.hasOwnProperty,i=function(e,t){return o.call(e,t)},u=function(e){try{return!!e()}catch(e){return!0}},s=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=t(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),c=function(e){return"object"==typeof e?null!==e:"function"==typeof e},f=function(e){if(!c(e))throw TypeError(e+" is not an object!");return e},l=r.document,p=c(l)&&c(l.createElement),h=function(e){return p?l.createElement(e):{}},g=!s&&!u(function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a}),v=function(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},d=Object.defineProperty,y=s?Object.defineProperty:function(e,t,n){if(f(e),t=v(t,!0),f(n),g)try{return d(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},b={f:y},m=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},w=s?function(e,t,n){return b.f(e,t,m(1,n))}:function(e,t,n){return e[t]=n,e},O=0,P=Math.random(),j=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++O+P).toString(36))},S=t(function(e){var t=j("src"),n=Function.toString,o=(""+n).split("toString");a.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,u,s){var a="function"==typeof u;a&&(i(u,"name")||w(u,"name",n)),e[n]!==u&&(a&&(i(u,t)||w(u,t,e[n]?""+e[n]:o.join(String(n)))),e===r?e[n]=u:s?e[n]?e[n]=u:w(e,n,u):(delete e[n],w(e,n,u)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),D=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},E=function(e,t,n){if(D(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){var o,i,u,s,c=e&C.F,f=e&C.G,l=e&C.S,p=e&C.P,h=e&C.B,g=f?r:l?r[t]||(r[t]={}):(r[t]||{}).prototype,v=f?a:a[t]||(a[t]={}),d=v.prototype||(v.prototype={});f&&(n=t);for(o in n)i=!c&&g&&void 0!==g[o],u=(i?g:n)[o],s=h&&i?E(u,r):p&&"function"==typeof u?E(Function.call,u):u,g&&S(g,o,u,e&C.U),v[o]!=u&&w(v,o,s),p&&d[o]!=u&&(d[o]=u)};r.core=a,C.F=1,C.G=2,C.S=4,C.P=8,C.B=16,C.W=32,C.U=64,C.R=128;var R=C,_=t(function(e){var t=j("meta"),n=b.f,r=0,o=Object.isExtensible||function(){return!0},s=!u(function(){return o(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},f=function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,t)){if(!o(e))return"F";if(!n)return"E";a(e)}return e[t].i},l=function(e,n){if(!i(e,t)){if(!o(e))return!0;if(!n)return!1;a(e)}return e[t].w},p=function(e){return s&&h.NEED&&o(e)&&!i(e,t)&&a(e),e},h=e.exports={KEY:t,NEED:!1,fastKey:f,getWeak:l,onFreeze:p}}),U=r["__core-js_shared__"]||(r["__core-js_shared__"]={}),x=function(e){return U[e]||(U[e]={})},A=t(function(e){var t=x("wks"),n=r.Symbol,o="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=o&&n[e]||(o?n:j)("Symbol."+e))}).store=t}),I=b.f,N=A("toStringTag"),k=function(e,t,n){e&&!i(e=n?e:e.prototype,N)&&I(e,N,{configurable:!0,value:t})},F=A,L={f:F},T=b.f,M={}.toString,W=function(e){return M.call(e).slice(8,-1)},z=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==W(e)?e.split(""):Object(e)},H=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},q=function(e){return z(H(e))},Y=Math.ceil,B=Math.floor,G=function(e){return isNaN(e=+e)?0:(e>0?B:Y)(e)},J=Math.min,V=function(e){return e>0?J(G(e),9007199254740991):0},X=Math.max,K=Math.min,Q=function(e,t){return e=G(e),e<0?X(e+t,0):K(e,t)},Z=x("keys"),$=function(e){return Z[e]||(Z[e]=j(e))},ee=function(e){return function(t,n,r){var o,i=q(t),u=V(i.length),s=Q(r,u);if(e&&n!=n){for(;u>s;)if((o=i[s++])!=o)return!0}else for(;u>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}}(!1),te=$("IE_PROTO"),ne=function(e,t){var n,r=q(e),o=0,u=[];for(n in r)n!=te&&i(r,n)&&u.push(n);for(;t.length>o;)i(r,n=t[o++])&&(~ee(u,n)||u.push(n));return u},re="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),oe=Object.keys||function(e){return ne(e,re)},ie=Object.getOwnPropertySymbols,ue={f:ie},se={}.propertyIsEnumerable,ae={f:se},ce=function(e){var t=oe(e),n=ue.f;if(n)for(var r,o=n(e),i=ae.f,u=0;o.length>u;)i.call(e,r=o[u++])&&t.push(r);return t},fe=Array.isArray||function(e){return"Array"==W(e)},le=s?Object.defineProperties:function(e,t){f(e);for(var n,r=oe(t),o=r.length,i=0;o>i;)b.f(e,n=r[i++],t[n]);return e},pe=r.document,he=pe&&pe.documentElement,ge=$("IE_PROTO"),ve=function(){},de=function(){var e,t=h("iframe"),n=re.length;for(t.style.display="none",he.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),de=e.F;n--;)delete de.prototype[re[n]];return de()},ye=Object.create||function(e,t){var n;return null!==e?(ve.prototype=f(e),n=new ve,ve.prototype=null,n[ge]=e):n=de(),void 0===t?n:le(n,t)},be=re.concat("length","prototype"),me=Object.getOwnPropertyNames||function(e){return ne(e,be)},we={f:me},Oe=we.f,Pe={}.toString,je="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Se=function(e){try{return Oe(e)}catch(e){return je.slice()}},De=function(e){return je&&"[object Window]"==Pe.call(e)?Se(e):Oe(q(e))},Ee={f:De},Ce=Object.getOwnPropertyDescriptor,Re=s?Ce:function(e,t){if(e=q(e),t=v(t,!0),g)try{return Ce(e,t)}catch(e){}if(i(e,t))return m(!ae.f.call(e,t),e[t])},_e={f:Re},Ue=_.KEY,xe=_e.f,Ae=b.f,Ie=Ee.f,Ne=r.Symbol,ke=r.JSON,Fe=ke&&ke.stringify,Le=A("_hidden"),Te=A("toPrimitive"),Me={}.propertyIsEnumerable,We=x("symbol-registry"),ze=x("symbols"),He=x("op-symbols"),qe=Object.prototype,Ye="function"==typeof Ne,Be=r.QObject,Ge=!Be||!Be.prototype||!Be.prototype.findChild,Je=s&&u(function(){return 7!=ye(Ae({},"a",{get:function(){return Ae(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=xe(qe,t);r&&delete qe[t],Ae(e,t,n),r&&e!==qe&&Ae(qe,t,r)}:Ae,Ve=function(e){var t=ze[e]=ye(Ne.prototype);return t._k=e,t},Xe=Ye&&"symbol"==typeof Ne.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Ne},Ke=function(e,t,n){return e===qe&&Ke(He,t,n),f(e),t=v(t,!0),f(n),i(ze,t)?(n.enumerable?(i(e,Le)&&e[Le][t]&&(e[Le][t]=!1),n=ye(n,{enumerable:m(0,!1)})):(i(e,Le)||Ae(e,Le,m(1,{})),e[Le][t]=!0),Je(e,t,n)):Ae(e,t,n)},Qe=function(e,t){f(e);for(var n,r=ce(t=q(t)),o=0,i=r.length;i>o;)Ke(e,n=r[o++],t[n]);return e},Ze=function(e,t){return void 0===t?ye(e):Qe(ye(e),t)},$e=function(e){var t=Me.call(this,e=v(e,!0));return!(this===qe&&i(ze,e)&&!i(He,e))&&(!(t||!i(this,e)||!i(ze,e)||i(this,Le)&&this[Le][e])||t)},et=function(e,t){if(e=q(e),t=v(t,!0),e!==qe||!i(ze,t)||i(He,t)){var n=xe(e,t);return!n||!i(ze,t)||i(e,Le)&&e[Le][t]||(n.enumerable=!0),n}},tt=function(e){for(var t,n=Ie(q(e)),r=[],o=0;n.length>o;)i(ze,t=n[o++])||t==Le||t==Ue||r.push(t);return r},nt=function(e){for(var t,n=e===qe,r=Ie(n?He:q(e)),o=[],u=0;r.length>u;)!i(ze,t=r[u++])||n&&!i(qe,t)||o.push(ze[t]);return o};Ye||(Ne=function(){if(this instanceof Ne)throw TypeError("Symbol is not a constructor!");var e=j(arguments.length>0?arguments[0]:void 0),t=function(n){this===qe&&t.call(He,n),i(this,Le)&&i(this[Le],e)&&(this[Le][e]=!1),Je(this,e,m(1,n))};return s&&Ge&&Je(qe,e,{configurable:!0,set:t}),Ve(e)},S(Ne.prototype,"toString",function(){return this._k}),_e.f=et,b.f=Ke,we.f=Ee.f=tt,ae.f=$e,ue.f=nt,s&&S(qe,"propertyIsEnumerable",$e,!0),L.f=function(e){return Ve(A(e))}),R(R.G+R.W+R.F*!Ye,{Symbol:Ne});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;rt.length>ot;)A(rt[ot++]);for(var it=oe(A.store),ut=0;it.length>ut;)!function(e){var t=a.Symbol||(a.Symbol=r.Symbol||{});"_"==e.charAt(0)||e in t||T(t,e,{value:L.f(e)})}(it[ut++]);R(R.S+R.F*!Ye,"Symbol",{for:function(e){return i(We,e+="")?We[e]:We[e]=Ne(e)},keyFor:function(e){if(!Xe(e))throw TypeError(e+" is not a symbol!");for(var t in We)if(We[t]===e)return t},useSetter:function(){Ge=!0},useSimple:function(){Ge=!1}}),R(R.S+R.F*!Ye,"Object",{create:Ze,defineProperty:Ke,defineProperties:Qe,getOwnPropertyDescriptor:et,getOwnPropertyNames:tt,getOwnPropertySymbols:nt}),ke&&R(R.S+R.F*(!Ye||u(function(){var e=Ne();return"[null]"!=Fe([e])||"{}"!=Fe({a:e})||"{}"!=Fe(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Xe(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&fe(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Xe(t))return t}),r[1]=t,Fe.apply(ke,r)}}}),Ne.prototype[Te]||w(Ne.prototype,Te,Ne.prototype.valueOf),k(Ne,"Symbol"),k(Math,"Math",!0),k(r.JSON,"JSON",!0),R(R.S,"Object",{create:ye}),R(R.S+R.F*!s,"Object",{defineProperty:b.f}),R(R.S+R.F*!s,"Object",{defineProperties:le});var st=function(e,t){var n=(a.Object||{})[e]||Object[e],r={};r[e]=t(n),R(R.S+R.F*u(function(){n(1)}),"Object",r)},at=_e.f;st("getOwnPropertyDescriptor",function(){return function(e,t){return at(q(e),t)}});var ct=function(e){return Object(H(e))},ft=$("IE_PROTO"),lt=Object.prototype,pt=Object.getPrototypeOf||function(e){return e=ct(e),i(e,ft)?e[ft]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?lt:null};st("getPrototypeOf",function(){return function(e){return pt(ct(e))}}),st("keys",function(){return function(e){return oe(ct(e))}}),st("getOwnPropertyNames",function(){return Ee.f});var ht=_.onFreeze;st("freeze",function(e){return function(t){return e&&c(t)?e(ht(t)):t}});var gt=_.onFreeze;st("seal",function(e){return function(t){return e&&c(t)?e(gt(t)):t}});var vt=_.onFreeze;st("preventExtensions",function(e){return function(t){return e&&c(t)?e(vt(t)):t}}),st("isFrozen",function(e){return function(t){return!c(t)||!!e&&e(t)}}),st("isSealed",function(e){return function(t){return!c(t)||!!e&&e(t)}}),st("isExtensible",function(e){return function(t){return!!c(t)&&(!e||e(t))}});var dt=Object.assign,yt=!dt||u(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=dt({},e)[n]||Object.keys(dt({},t)).join("")!=r})?function(e,t){for(var n=ct(e),r=arguments.length,o=1,i=ue.f,u=ae.f;r>o;)for(var s,a=z(arguments[o++]),c=i?oe(a).concat(i(a)):oe(a),f=c.length,l=0;f>l;)u.call(a,s=c[l++])&&(n[s]=a[s]);return n}:dt;R(R.S+R.F,"Object",{assign:yt});var bt=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};R(R.S,"Object",{is:bt});var mt=function(e,t){if(f(e),!c(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},wt={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=E(Function.call,_e.f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return mt(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:mt};R(R.S,"Object",{setPrototypeOf:wt.set});var Ot=A("toStringTag"),Pt="Arguments"==W(function(){return arguments}()),jt=function(e,t){try{return e[t]}catch(e){}},St=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=jt(t=Object(e),Ot))?n:Pt?W(t):"Object"==(r=W(t))&&"function"==typeof t.callee?"Arguments":r},Dt={};Dt[A("toStringTag")]="z",Dt+""!="[object z]"&&S(Object.prototype,"toString",function(){return"[object "+St(this)+"]"},!0);var Et={en:{"My Profile":"My Profile",AccessData:"Account Credentials",Delegations:"Delegations",MyRepresentatives:"Representatives","Work for someone else":"Work for someone else",DelegationNotAvailableInService:"not available for this service",NoDelegations:"you don't have any delegations",NewDelegationLinkText:"New Delegation",WorkForMe:"Work for me",wordFor:"on behalf of",PossibleDelegations:"Possible Delegations"},de:{"My Profile":"Mein Profil",AccessData:"Zugangsdaten",Delegations:"Vertretungen",MyRepresentatives:"Vertreter","Work for someone else":"Für jemand anderen arbeiten",DelegationNotAvailableInService:"für diesen Dienst nicht verfügbar",NoDelegations:"Sie haben keine Vertretungen",NewDelegationLinkText:"Neue Vertretung beantragen",WorkForMe:"Für mich arbeiten",wordFor:"im Namen von",PossibleDelegations:"Mögliche Vertretungen"},it:{"My Profile":"Mio profilo",AccessData:"Dati d'accesso",Delegations:"Deleghe",MyRepresentatives:"Rappresentanti","Work for someone else":"Lavorare per qualcun altro",DelegationNotAvailableInService:"non disponibile per questo servizio",NoDelegations:"non ha ancora nessuna delega",NewDelegationLinkText:"Richiesta nuova delega",WorkForMe:"Lavorare per me stesso",wordFor:"a nome di",PossibleDelegations:"Deleghe possibili"}},Ct=function(){function e(e,t){this.user=e;var n="de";t.language?n=t.language:e&&e.language&&(n=e.language),this.lang=n}return e.prototype.getCurrentLang=function(){return this.lang},e.prototype.translate=function(e){return n(this.lang,e)},e.prototype.resolveDelegationLinkText=function(e){var t=e.represented;return t.id===this.user.owner.id?n(this.lang,"WorkForMe"):t.naturalPerson?t.naturalPerson.firstname+" "+t.naturalPerson.lastname:t.juristicPerson?this.returnLocalized(t.juristicPerson.nameDe,t.juristicPerson.nameIt):"(unable to determine link text)"},e.prototype.resolveDelegationDisplayName=function(){var e=this.user.activeDelegation;return e?this.resolveDelegationLinkText(e):"(unable to determine delegation name)"},e.prototype.ellipsis=function(e,t){if(e){if(void 0===t&&(t=9e3),e.length<=t)return e;var n=t-3,r=e.lastIndexOf(" ",n);return(-1==r||r<t/2)&&(r=n),e.substr(0,r)+"..."}return e},e.prototype.returnLocalized=function(e,t,n){return void 0===t&&(t=e),void 0===n&&(n=e),"IT"===this.lang.toUpperCase()?t:"EN"===this.lang.toUpperCase()?n:e},e}(),Rt=function(){function e(){}return e.handleAjaxRequest=function(e,t){if(!t)throw"You have to pass in a valid XHR object.";e.sessionInfo&&e.sessionInfo.currentRepresentedId&&t.setRequestHeader("client-currentRepresentedId",e.sessionInfo.currentRepresentedId),e&&e.language&&t.setRequestHeader("current-language",e.language)},e.handleAjaxResponse=function(e,t){if(!t)throw"You have to pass in a valid XHR object.";if(this._isNullOrUndefined(t.status))throw"You have to pass in a valid XHR object having a status property.";if(this._isNullOrUndefined(t.url))throw"You have to pass in a valid XHR object having a url property containing the request Url.";if(!t.getResponseHeader&&"function"==typeof t.getResponseHeader)throw"You have to pass in a valid XHR object having a getResponseHeader(key) function.";if(!t.getResponseBody&&"function"==typeof t.getResponseBody)throw"You have to pass in a valid XHR object having a getResponseBody() function.";if(401===t.status||403===t.status){var n=t.getResponseBody();if(n&&n.redirectUrl){var r=n.redirectUrl;r.includes(this.REDIRECTURL_PLACEHOLDER)&&(r=r.replace(this.REDIRECTURL_PLACEHOLDER,encodeURIComponent(this._retrieveCurrentWindowUrl()))),n.message&&""!==n.message?e.callbacks&&e.callbacks.notifyUser?e.callbacks.notifyUser(n):(console.warn("Missing callbacks: { notifyUser: (options) => { ... } } function. You should inform the user about what is going on! (redirecting silently..)"),this._redirect(r)):this._redirect(r)}}},e._redirect=function(e){window.location.href=e},e._retrieveCurrentWindowUrl=function(){return window.location.href},e._isNullOrUndefined=function(e){return null===e||void 0===e},e}();Rt.REDIRECTURL_PLACEHOLDER="{URLENCODED_TARGET}";var _t=function(){function e(e,t,n,r){this.user=e,this.egovAuthOptions=t,this.authUrls=n,this.httpBackend=r,this.sessionAuthenticated=!1,this.REDIRECTURL_PLACEHOLDER="{URLENCODED_TARGET}",this.egovAuthOptions=t||{},this.sessionAuthenticated=e.isAuthenticated,this.userInterfaceService=new Ct(e,t)}return Object.defineProperty(e.prototype,"uiService",{get:function(){return this.userInterfaceService},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuthenticated",{get:function(){return this.sessionAuthenticated},enumerable:!0,configurable:!0}),e.prototype.changeDelegation=function(e){if(this.egovAuthOptions&&this.egovAuthOptions.events&&this.egovAuthOptions.events.changeDelegation){var t=this.user.getDelegation(parseInt(e));if(t)return this.egovAuthOptions.events.changeDelegation(t);throw"Delegation with id "+e+" not found."}return this.httpBackend.execute({method:"POST",url:this.authUrls.getChangeDelegationUrl(),headers:{"Content-type":"application/json; charset=UTF-8"},data:JSON.stringify({newRepresentedId:e})})},e.prototype.restartApplication=function(){window.location.reload()},e.prototype.handleAjaxRequest=function(e){Rt.handleAjaxRequest(this.user,e)},e.prototype.handleAjaxResponse=function(e){Rt.handleAjaxResponse(this.egovAuthOptions,e)},e.prototype._redirect=function(e){window.location.href=e},e.prototype._retrieveCurrentWindowUrl=function(){return window.location.href},e.prototype._isNullOrUndefined=function(e){return null===e||void 0===e},e}(),Ut=function(){function e(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.delegations=this.delegations||[]}return Object.defineProperty(e.prototype,"displayName",{get:function(){return this.owner&&this.owner.firstname&&this.owner.lastname?this.owner.firstname+" "+this.owner.lastname:this.username},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDelegation",{get:function(){for(var e=0;e<this.delegations.length;e++)if(this.sessionInfo&&this.delegations[e].represented.id===this.sessionInfo.currentRepresentedId)return this.delegations[e];return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuthenticated",{get:function(){return null!==this.sessionInfo&&void 0!==this.sessionInfo},set:function(e){this._dummyValue=e},enumerable:!0,configurable:!0}),e.prototype.hasRole=function(e){if(this.currentAccreditations)for(var t=0,n=this.currentAccreditations;t<n.length;t++){var r=n[t];if(r.qualification&&r.qualification.uid===e)return!0}return!1},e.prototype.getDelegation=function(e){if(this.delegations){var t=null;return this.delegations.forEach(function(n){if(n.represented.id===e)return void(t=n)}),t}return null},e.prototype.hasDelegationChanged=function(e){return this.sessionInfo.currentRepresentedId!==e},e}(),xt=function(){function e(e){this.ajaxLib=e}return e.prototype.execute=function(e){return this.ajaxLib(e).then(function(e){var t=e;return e.data&&(t=e.data),new Ut(t)})},e}(),At=function(){function e(e,t){if(this.envDetector=e,this.egovConfig=t,this.apiPrefix="/iamauth",this.protocol="https",!e)throw"You have to pass in a valid class that implements the IEnvironmentDetector interface.";if(t){var n=this._resolveString(t.apiPrefix);null!==n&&(this.apiPrefix=n)}this.protocol=e.getProtocol()}return e.prototype.getCurrentUserUrl=function(){if(this.egovConfig){var e=this._resolveString(this.egovConfig.userUrl);if(null!==e)return e}return this.apiPrefix+"/user/current"},e.prototype.getLoginPageUrl=function(e){if(this.egovConfig){var t=this._resolveString(this.egovConfig.loginUrl);if(null!==t)return t}return e||(e=this.envDetector.getCurrentWindowUrl()),this.apiPrefix+"/login?target="+encodeURIComponent(e)},e.prototype.getLogoutPageUrl=function(e){if(this.egovConfig){var t=this._resolveString(this.egovConfig.logoutUrl);if(null!==t)return t}return e||(e=this.envDetector.getCurrentWindowUrl()),this.apiPrefix+"/logout?target="+encodeURIComponent(e)},e.prototype.getProfilePageUrl=function(){if(this.egovConfig){var e=this._resolveString(this.egovConfig.myProfileUrl);if(null!==e)return e}var t=this.envDetector.getEnvironmentPrefix();return""!==t&&(t+="-"),this.protocol+"://"+t+"iam.civis.bz.it/api/appurls/MyProfile"},e.prototype.getNewDelegationRequestUrl=function(e){if(this.egovConfig){var t=this._resolveString(this.egovConfig.newDelegationUrl);if(null!==t)return t}return e||(e=this.envDetector.getCurrentWindowUrl()),this.apiPrefix+"/requestDelegation?target="+encodeURIComponent(e)},e.prototype.getChangeDelegationUrl=function(){if(this.egovConfig){var e=this._resolveString(this.egovConfig.changeDelegationUrl);if(null!==e)return e}return this.apiPrefix+"/user/current"},e.prototype.getAccessDataUrl=function(){var e=this.envDetector.getEnvironmentPrefix();return""!==e&&(e+="-"),this.protocol+"://"+e+"iam.civis.bz.it/api/appurls/MyCredentials"},e.prototype.getDelegationsUrl=function(){var e=this.envDetector.getEnvironmentPrefix();return""!==e&&(e+="-"),this.protocol+"://"+e+"iam.civis.bz.it/api/appurls/MyDelegations"},e.prototype.getCurrentDelegationProfileUrl=function(){var e=this.envDetector.getEnvironmentPrefix();return""!==e&&(e+="-"),this.protocol+"://"+e+"iam.civis.bz.it/api/appurls/CurrentDelegationProfile"},e.prototype.getRepresentativesUrl=function(){var e=this.envDetector.getEnvironmentPrefix();return""!==e&&(e+="-"),this.protocol+"://"+e+"iam.civis.bz.it/api/appurls/CurrentDelegationRepresentatives"},e.prototype._resolveString=function(e){return e?"function"==typeof e?e(this.envDetector.getEnvironmentPrefix()):e:null},e}(),It=function(){function e(e,t){this.protocol="https",e&&(this.envPrefix=e),!1===t&&(this.protocol="http")}return e.prototype.getEnvironmentPrefix=function(){var e="";if(this.envPrefix)e=this.envPrefix;else{var t=this.getCurrentWindowUrl();-1===t.indexOf("dev")&&-1===t.indexOf("localhost")||(e="dev"),-1!==t.indexOf("test")&&(e="test"),-1!==t.indexOf("demo")&&(e="demo")}return e},e.prototype.getProtocol=function(){var e;if(this.protocol)e=this.protocol;else{var t=window&&window.location.protocol;t&&(e=t.replace(":",""))}return e},e.prototype.getCurrentWindowUrl=function(){return window.location.href},e}(),Nt=function(){function e(){}return e.configure=function(t){e.isConfigured=!0,e.configuration=t;var n=new It(t.environment,t.isHttps);this.authUrls=new At(n,t)},e.isAuthenticated=function(){return e.authSession&&e.authSession.isAuthenticated},e.getConfiguration=function(){return e.configuration},e.onSessionCreated=function(e){this.sessionCreatedCb=e},e.getAuthSession=function(){return this.authSession},e.handleAjaxResponse=function(t){var n=e.configuration;Rt.handleAjaxResponse(n,t)},e.getUrls=function(){return this.authUrls},e.getCurrent=function(t){var n=this;if(!e.isConfigured)throw new Error("Not configured, please invoke .configure(..) first");if(!e.configuration.httpLibrary)throw new Error('No ajax library configured. Set the according property "httpLibrary"');var r=new xt(e.configuration.httpLibrary),o=Object.assign({},{url:this.getUrls().getCurrentUserUrl(),method:"GET"},t);return r.execute(o).then(function(t){var o=new Ut(t);return e.authSession=new _t(o,e.configuration,n.authUrls,r),n.sessionCreatedCb&&n.sessionCreatedCb(e.authSession),o})},e.initWithUser=function(t){if(!e.isConfigured)throw new Error("Not configured, please invoke .configure(..) first");var n=new xt(e.configuration.httpLibrary);e.authSession=new _t(new Ut(t),e.configuration,this.authUrls,n)},e}();e.Authentication=Nt,e.AuthSession=_t,e.AuthenticationUrls=At,e.User=Ut,e.translate=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=./dist/js-egov-authentication/bundles/js-egov-authentication.umd.min.js.map